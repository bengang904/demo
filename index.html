<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>电池状态</title>
</head>
<body>
  <h1>查看设备电池状态</h1>
  <p id="battery-status"></p>

  <script>
    navigator.getBattery().then(function(battery) {
      const batteryStatus = document.getElementById("battery-status");
      batteryStatus.innerHTML = `电池电量: ${Math.round(battery.level * 100)}% <br>充电状态: ${battery.charging ? '充电中' : '未充电'}`;

      // 监听电池状态变化
      battery.addEventListener('chargingchange', function() {
        batteryStatus.innerHTML = `充电状态: ${battery.charging ? '充电中' : '未充电'}`;
      });
      battery.addEventListener('levelchange', function() {
        batteryStatus.innerHTML = `电池电量: ${Math.round(battery.level * 100)}% <br>充电状态: ${battery.charging ? '充电中' : '未充电'}`;
      });
    });
  </script>
</body>
</html>
